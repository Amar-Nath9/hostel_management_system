{% extends "base.html" %}
{% block title %}Register{% endblock %}
{% block content %}

<div class="container mt-4">
    <form class="col-6 mx-auto" method="POST" action="{% url 'register' %}">
        {% csrf_token %}
        <h1 class="text-center">Registration</h1>
        <br>

       <!-- Display Form-Specific Errors -->
       {% if form.errors %}
       <div class="alert alert-danger">
           <strong>There were some errors with your form:</strong>
           <ul>
               {% for field in form %}
                   {% if field.errors %}
                       {% for error in field.errors %}
                           <li>{{ field.label }}: {{ error }}</li>
                       {% endfor %}
                   {% endif %}
               {% endfor %}
               {% for error in form.non_field_errors %}
                   <li>{{ error }}</li>
               {% endfor %}
           </ul>
       </div>
   {% endif %}

   <!-- Display Success Messages -->
   {% if messages %}
       {% for message in messages %}
           {% if message.tags == "success" %}
               <div class="alert alert-success alert-dismissible fade show" role="alert">
                   {{ message }}
                   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
               </div>
           {% endif %}
       {% endfor %}
   {% endif %}

   <!-- Display Error Messages -->
   {% if messages %}
       {% for message in messages %}
           {% if message.tags != "success" %}
               <div class="alert alert-danger alert-dismissible fade show" role="alert">
                   {{ message }}
                   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
               </div>
           {% endif %}
       {% endfor %}
   {% endif %}

        <div class="mb-3">
            <label for="{{ form.name.id_for_label }}">Name</label>
            {{ form.name }}
        </div>

        <div class="mb-3">
            <label for="{{ form.mobile_no.id_for_label }}">Mobile Number</label>
            {{ form.mobile_no }}
           
        </div>

        <div class="mb-3">
            <label for="{{ form.email.id_for_label }}">Email</label>
            {{ form.email }}
        </div>

        <div class="mb-3">
            <label for="{{ form.collage_name.id_for_label }}">College/Industry</label>
            {{ form.collage_name }}
        </div>

        <div class="mb-3">
            <label for="{{ form.password1.id_for_label }}">Password</label>
            {{ form.password1 }}
        </div>

        <div class="mb-3">
            <label for="{{ form.password2.id_for_label }}">Confirm Password</label>
            {{ form.password2 }}
        </div>

        <div class="text-center">
            <p>Already have an account? <a href="{% url 'login' %}">login</a></p>
            <button type="submit" class="btn btn-success btn-block">Register</button>
        </div>
    </form>
</div>

{% endblock %}
